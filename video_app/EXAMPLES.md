# Habitat Video Generator - 使用示例

## 快速开始

### 1. 基本使用
```bash
cd /home/yaoaa/habitat-lab/video_app
./run.sh
```

### 2. 指定参数
```bash
./run.sh --scene /path/to/your/scene.glb --gpu 0 --fps 30
```

### 3. 运行测试
```bash
./run.sh --test
```

## 指令示例

### 示例1: 基本导航
```json
[[2.6, 0.1], ["right", 30], [2.5, 0.4]]
```
1. 移动到坐标(2.6, 0.1)
2. 向右旋转30度
3. 移动到坐标(2.5, 0.4)

### 示例2: 复杂路径
```json
[[0.0, 0.0], ["right", 45], [2.0, 2.0], ["left", 90], [0.0, 2.0], ["right", 180], [1.0, 1.0]]
```
1. 移动到原点
2. 右转45度
3. 移动到(2.0, 2.0)
4. 左转90度
5. 移动到(0.0, 2.0)
6. 右转180度（掉头）
7. 移动到(1.0, 1.0)

### 示例3: 精确旋转
```json
[["right", 90], ["left", 45], ["right", 135]]
```
连续的旋转指令，每次旋转都会生成平滑的动画。

### 示例4: 探索模式
```json
[[1.0, 1.0], ["right", 30], [2.0, 1.0], ["right", 30], [2.0, 2.0], ["right", 30], [1.0, 2.0], ["right", 30]]
```
方形路径探索，每到一个角落都稍微调整视角。

## 注意事项

### 坐标系统
- X轴: 左右方向
- Z轴: 前后方向  
- Y轴: 上下方向（由系统自动处理）

### 旋转方向
- "left": 逆时针旋转（正角度）
- "right": 顺时针旋转（负角度）
- 角度范围: 0-360度

### 动画细节
- 旋转动画: 每1度生成一帧
- 移动动画: 每0.05米生成一帧
- 30度旋转 = 30帧
- 1米移动 = 20帧

### 性能建议
1. 避免过长的移动距离（>10米）
2. 合理控制旋转角度（建议<180度）
3. 指令序列长度建议<20个指令

## 常见场景

### 房间巡视
```json
[[0.0, 0.0], ["right", 90], [3.0, 0.0], ["right", 90], [3.0, 3.0], ["right", 90], [0.0, 3.0], ["right", 90]]
```

### 定点观察
```json
[[2.0, 2.0], ["right", 45], ["right", 45], ["right", 45], ["right", 45], ["right", 45], ["right", 45], ["right", 45], ["right", 45]]
```
在同一位置360度观察周围环境。

### 路径规划测试
```json
[[0.0, 0.0], [1.0, 0.0], [1.0, 1.0], [0.0, 1.0], [0.0, 0.0]]
```
测试简单的矩形路径。

## 故障排除

### 常见错误
1. **"Target position not navigable"**: 目标位置不可到达，尝试附近的其他坐标
2. **"Collision detected"**: 路径上有障碍物，规划其他路线
3. **"Scene file not found"**: 检查场景文件路径

### 调试技巧
1. 从简单的指令开始测试
2. 先使用小角度旋转和短距离移动
3. 查看生成的视频了解环境布局
4. 逐步增加指令复杂度

### 性能优化
1. 使用合适的GPU设备ID
2. 根据需要调整视频FPS
3. 定期清理输出目录中的旧视频
